name: 07. ğŸŸ¢ app_auto_course

on:
  workflow_dispatch:
    inputs:
      ARGS:
        description: |
          -u, --url è¯¾ç¨‹åœ°å€
        required: false
        type: string
        default: "-u "

      DEBUG:
        description: "æ”¯æŒè¿æ¥åˆ°è™šæ‹Ÿæœºè¿›è¡Œè°ƒè¯•"
        type: boolean
        required: false
        default: false

      REF:
        description: "åˆ†æ”¯æˆ–æ ‡ç­¾ã€æäº¤ID"
        type: choice
        required: false
        options:
          - "master"
          - "release"

  # è¯¥äº‹ä»¶å¯ä»¥é€šè¿‡ API è§¦å‘
  repository_dispatch:
    types:
      - app_auto_course

jobs:
  run_app:
    uses: wordsworth-mk/github-runner/.github/workflows/21.run.yml@main
    with:
      APP: auto_course
      WITH_3PARTY: false
      ARGS: ${{ inputs.ARGS || github.event.client_payload.ARGS }}
      DEBUG: ${{ inputs.DEBUG || false }}
      REF: ${{ inputs.REF || 'master' }}

    secrets:
      MYPY_ACCESS_TOKEN: ${{ secrets.MYPY_ACCESS_TOKEN }}
