name: 08. ğŸŸ¢ app_text2douyin

on:
  workflow_dispatch:
    inputs:
      VIDEO_SUBJECT:
        description: "è§†é¢‘ä¸»é¢˜"
        required: true
        type: string

      ENV_PUBLISH_ACCOUNT:
        type: choice
        description: "é€‰æ‹©è´¦å·"
        required: false
        default: "middle"
        # NOTICE: ä¸ const.py/Account ä¸€ä¸€å¯¹åº”
        options:
          - "large" # å¤§å·
          - "middle" # ä¸­å·
          - "test" # æµ‹è¯•è´¦å·

jobs:
  run_app:
    uses: wordsworth-mk/github-runner/.github/workflows/21.run.yml@main
    with:
      APP: text2douyin
      WITH_3PARTY: false
      DEPENDENT_BINARY: imagemagick
      ARGS: -s ${{ inputs.VIDEO_SUBJECT }}
      ENV_PUBLISH_ACCOUNT: ${{ github.event.inputs.ENV_PUBLISH_ACCOUNT }}

    secrets:
      MYPY_ACCESS_TOKEN: ${{ secrets.MYPY_ACCESS_TOKEN }}
